{% extends "base/base.html.twig" %}

{% block title %}Forum{% endblock %}

{% block body %}
    <div class="container-fluid p-3 mt-3">
        <div>
            <!-- Page header -->
            <div class="border-bottom border-4 pb-4 mb-4">
                <h3 class="mb-0 fw-bold">{{ topic.name }}</h3>
                <div class="me-1 mt-1 d-flex">
                    <img src="{{ asset('/images/faces/1.jpg') }}"
                         class="avatar rounded-circle border border-4 border-white-color-40" alt="">
                    <h4 class="mt-3">
                        {{ topic.author }},
                        {% if topic.updatedAt is not null %}
                           mis à jour {{ topic.updatedAt | ago }}
                        {% else %}
                            {{ topic.createdAt | ago }}
                        {% endif %}
                    </h4>
                    {% if app.user is same as topic.author %}
                        <div class="ms-auto">
                            <a href="{{ path('app_update_topic', {id: topic.id}) }}" class="btn btn-sm btn-primary">
                                <i class="fa fa-plus"></i>
                                Modifier
                            </a>
                        </div>
                    {% endif %}
                </div>
                <div class="mt-1 ms-5 d-flex">
                    {% for tag in topic.tags %}
                        <span class="ms-1 badge" style="background-color: {{ tag.color }}">{{ tag.name }}</span>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="container">
            {{ topic.content|raw }}
        </div>
        <div>
            <h3 class="divider">{{ topic.messages | length}} Réponse{% if topic.messages|length > 1 %}s{% endif %}</h3>
        </div>
    </div>
{% endblock body %}